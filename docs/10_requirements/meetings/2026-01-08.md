---
title: 2026-01-08
parent: 회의록
grand_parent: TR1L (Overview)
nav_order: 20260108
---

# 2026-01-08 EventStorming 심화
## 1) 개요
- **날짜** : 2026-01-08
- **참여자** :

<!-- Participants -->
<div class="tr1l-participants" aria-label="participants">
  <a class="tr1l-chip" href="https://github.com/Jsnooopy" aria-label="이재 GitHub">
    <img class="tr1l-avatar" src="https://github.com/Jsnooopy.png?size=120" alt="이재" />
    <span class="tr1l-name">이재</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/tkv00" aria-label="김도연 GitHub">
    <img class="tr1l-avatar" src="https://github.com/tkv00.png?size=120" alt="김도연" />
    <span class="tr1l-name">김도연</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/ChoiSeungeon" aria-label="최승언 GitHub">
    <img class="tr1l-avatar" src="https://github.com/ChoiSeungeon.png?size=120" alt="최승언" />
    <span class="tr1l-name">최승언</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/bon0512" aria-label="구본문 GitHub">
    <img class="tr1l-avatar" src="https://github.com/bon0512.png?size=120" alt="구본문" />
    <span class="tr1l-name">구본문</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/marulog" aria-label="박준희 GitHub">
    <img class="tr1l-avatar" src="https://github.com/marulog.png?size=120" alt="박준희" />
    <span class="tr1l-name">박준희</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/cylin0201" aria-label="김원기 GitHub">
    <img class="tr1l-avatar" src="https://github.com/cylin0201.png?size=120" alt="김원기" />
    <span class="tr1l-name">김원기</span>
  </a>
</div>

<style>
  .tr1l-participants{
    display:flex; flex-wrap:wrap; gap:10px;
    align-items:center; margin:8px 0 2px;
  }
  .tr1l-chip{
    display:inline-flex; align-items:center; gap:10px;
    padding:8px 12px; border-radius:999px;
    text-decoration:none !important;
    border:1px solid rgba(127,127,127,.28);
    background:rgba(127,127,127,.10);
    backdrop-filter:saturate(140%) blur(4px);
    transition:transform .12s ease, border-color .12s ease, background .12s ease;
  }
  .tr1l-chip:hover{
    transform:translateY(-1px);
    border-color:rgba(127,127,127,.45);
    background:rgba(127,127,127,.14);
  }
  .tr1l-avatar{
    width:28px; height:28px; border-radius:50%;
    display:block; flex:0 0 auto;
    box-shadow:0 0 0 1px rgba(127,127,127,.22);
  }
  .tr1l-name{
    font-weight:650; font-size:14px;
    line-height:1; letter-spacing:-0.2px;
    color:inherit;
  }
</style>

## 1) 목표(Goal)
EventStorming 결과를 바탕으로 **Policy**와 **External System**을 정의하고,  
**Aggregate 및 Bounded Context**를 식별하여 도메인 경계를 확정한다.  
또한 핵심 설계 의사결정에 필요한 **요구사항 불확실성(질문/가정)**을 정리하는 것을 목표로 한다.

---

## 2) 회의 주제 / Agenda
| Time | Topic | Note |
|---:|---|---|
| 13:00 | EventStorming | Policy 및 외부 시스템 정의 / Aggregate 매핑 및 Bounded Context 식별 |

---

## 3) 회의 내용(Notes)

### 3.1 Policy 및 External System 정의

#### External System
- 시스템이 **의존하지만 직접 제어하지 않거나**, 별도의 인프라로 격리된 요소들을 식별한다.

#### Policy
- Policy는 도메인 이벤트가 발생했을 때 시스템이 수행해야 하는 **비즈니스 규칙**이다.
- 단순 입력 검증(Validation)이 아니라,  
  **“A라는 사건이 발생하면, B를 수행하라”**는 반응형 로직이며  
  서로 다른 **Bounded Context를 연결하는 접착제** 역할을 한다.
- 각 도메인 이벤트 이후 다음 관점으로 정의한다:
  - “어떤 후속 조치가 필요한가?”
  - “이 이벤트가 다른 도메인에 어떤 영향을 미치는가?”

---

### 3.2 Aggregate 매핑 및 Bounded Context 식별
- EventStorming 결과를 기반으로 Aggregate를 매핑하고,  
  Bounded Context를 식별하여 도메인 경계를 확정한다.

---

## 4) U+ 질문 사항 정리(요구사항 불확실성)

### 4.1 가정 / 데이터 스케일·범위 정의
- 메시지 발송 실패율 **1%**은 이미 가정된 환경/전제인지, 아니면 우리가 직접 구성/시뮬레이션해야 하는 환경인지?
- **500만 건 청구 이력** 데이터는 `100만 유저 × 5개월`로 가정된 것인지?  
  그렇다면 1개월 추가 시 `600만 건/6개월`이 되는데, 유저 데이터 동향 분석(추세/통계) 기능까지 요구되는 범위인지?

### 4.2 평가 기준·우선순위(무엇을 가장 중점으로 보나)
- 이 프로젝트에서 가장 중점적으로 평가하는 요소는 무엇인지?  
  (대용량 처리 성능 / 아키텍처 확장성 / 코드 품질(테스트, 구조, 유지보수성) 중 핵심)

### 4.3 성능 요구사항·테스트(툴/목표)
- 성능 요구사항이 존재하는지 / 없다면 보류인지?
- 배치와 발송 각각에 대한 요구사항이 있는지, 혹은 공통인지?
- 외부 발송 서버(이메일/SMS/푸시 등)의 rate limit/TPS를 고려해야 하는지?
- 메시지 플랫폼의 TPS 목표치가 있는지?
- 현업 기준으로 성능 테스트 시 자주 쓰는 툴/추천 툴은 무엇인지?

### 4.4 발송 정책·실패 처리·대체 채널(이메일 → SMS 등)
- 이메일 발송 “최종 실패”의 정의는 무엇인지?
  - 우리가 정한 retry 횟수 소진 후 실패를 최종 실패로 보고 SMS로 fallback 하면 되는지?
  - 아니면 이메일 1회 실패 즉시 SMS로 넘어가야 하는지?
- 발송 상태 추적/모니터링을 위해 현업에서 주로 쓰는 도구/메트릭은 무엇인지?

### 4.5 정산/배치 트리거·시스템 분리·실행 단위
- 정산 시스템이 정산 완료 후 메시지를 **즉시 발송**까지 해야 하는지?
  - 아니면 정산 배치는 정산 결과를 DB에 저장까지만 하고, 관리자가 발송(예약 포함)하는 형태인지?
- 정산 시스템과 발송 시스템은 별개 컴포넌트/서비스로 분리되는지?
  - 정산: 정산/청구서 생성
  - 발송: 청구서 발송
  - 위처럼 분리로 보면 되는지?
- 배치/예약 등 하나의 트리거로 정산 → 발송이 연쇄 실행되는 구조가 요구되는지?
  - 예약 발송 시간 = 정산 시작 시간인지?
  - 아니면 정산은 미리 해두고 발송만 예약인지?

### 4.6 중복 방지·정합성(배치가 2번 돌아도 중복 생성 금지)
- “배치가 두 번 실행돼도 중복 생성되면 안 됨” 조건에서 기대하는 해결 방식은?
  - DB 레벨(유니크 키, upsert, 락 등)
  - Spring Batch(재시도/재시작, Execution 관리 등)
  - Kafka/이벤트 처리(Exactly-once에 준하는 설계 등)
  - 중 어디에서 중복 방어를 처리하길 원하는지?

### 4.7 현업 운영 관행(정산 주기·롤백)
- 실제 현업에서는 요금 정산 배치를 하루 몇 번 / 어떤 단위(시간/일/월)로 처리하는지?
- 정산 데이터가 잘못 생성됐을 때, 현업 롤백은 어떤 플로우(정정/재처리/보정/취소)로 진행되는지?

### 4.8 장애 유형·엣지 케이스(통신사 빌링 관점)
- 실제 통신사 빌링 시스템에서 가장 많이 발생하는 장애 유형은 무엇인지?
- 이 프로젝트에서 특별히 고려해야 할 엣지 케이스가 있다면 어떤 것들인지?

### 4.9 청구서(명세서) 포맷·필수 항목
- 요금 청구서/명세서 형식 요구:
  - 문자로 받는 명세서는 이미지 파일 형태인지? (예: KT)
  - 링크로 확인하는 청구서는 PDF 형태인지? (예: KT)
- 청구서에 반드시 포함돼야 하는 필수 내용은 무엇인지?
  - “상품/요금/청구에 필수 데이터”만 필요한지
  - 사용자 편의를 위한 데이터 사용량/통화량 같은 항목도 필요한지?

### 4.10 발송 금지 시간대(Do-not-disturb) 정책 주체
- 금지 시간대 설정 주체가 누구인지?
  - 사용자가 개인별로 시간대를 직접 설정하는 모델인지
  - 관리자가 공통 금지 시간대를 정의하고 사용자는 “적용 원함/원치 않음”처럼 선택만 하는 모델인지

---

## 5) 조치 항목(Action Items)
- [ ] Policy 정의 및 정리
- [ ] External System 목록 정리
- [ ] Aggregate 매핑 및 Bounded Context 확정
- [ ] 중복 방지 및 정합성 설계 방향 초안 수립
- [ ] 다음 설계 단계 준비
