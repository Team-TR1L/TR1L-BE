---
title: 2026-01-19
parent: 회의록
grand_parent: TR1L (Overview)
nav_order: 20260119
---

# 2026-01-19 Producer–Consumer 통합 이슈 정리 및 부하 테스트 준비
## 1) 개요
- **날짜** : 2026-01-19
- **참여자** :

<!-- Participants -->
<div class="tr1l-participants" aria-label="participants">
  <a class="tr1l-chip" href="https://github.com/Jsnooopy" aria-label="이재 GitHub">
    <img class="tr1l-avatar" src="https://github.com/Jsnooopy.png?size=120" alt="이재" />
    <span class="tr1l-name">이재</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/tkv00" aria-label="김도연 GitHub">
    <img class="tr1l-avatar" src="https://github.com/tkv00.png?size=120" alt="김도연" />
    <span class="tr1l-name">김도연</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/ChoiSeungeon" aria-label="최승언 GitHub">
    <img class="tr1l-avatar" src="https://github.com/ChoiSeungeon.png?size=120" alt="최승언" />
    <span class="tr1l-name">최승언</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/bon0512" aria-label="구본문 GitHub">
    <img class="tr1l-avatar" src="https://github.com/bon0512.png?size=120" alt="구본문" />
    <span class="tr1l-name">구본문</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/marulog" aria-label="박준희 GitHub">
    <img class="tr1l-avatar" src="https://github.com/marulog.png?size=120" alt="박준희" />
    <span class="tr1l-name">박준희</span>
  </a>

  <a class="tr1l-chip" href="https://github.com/cylin0201" aria-label="김원기 GitHub">
    <img class="tr1l-avatar" src="https://github.com/cylin0201.png?size=120" alt="김원기" />
    <span class="tr1l-name">김원기</span>
  </a>
</div>

<style>
  .tr1l-participants{
    display:flex; flex-wrap:wrap; gap:10px;
    align-items:center; margin:8px 0 2px;
  }
  .tr1l-chip{
    display:inline-flex; align-items:center; gap:10px;
    padding:8px 12px; border-radius:999px;
    text-decoration:none !important;
    border:1px solid rgba(127,127,127,.28);
    background:rgba(127,127,127,.10);
    backdrop-filter:saturate(140%) blur(4px);
    transition:transform .12s ease, border-color .12s ease, background .12s ease;
  }
  .tr1l-chip:hover{
    transform:translateY(-1px);
    border-color:rgba(127,127,127,.45);
    background:rgba(127,127,127,.14);
  }
  .tr1l-avatar{
    width:28px; height:28px; border-radius:50%;
    display:block; flex:0 0 auto;
    box-shadow:0 0 0 1px rgba(127,127,127,.22);
  }
  .tr1l-name{
    font-weight:650; font-size:14px;
    line-height:1; letter-spacing:-0.2px;
    color:inherit;
  }
</style>

---
## 2) 목표(Goal)
Kafka Producer–Consumer 통합 진행 상황을 공유하고,  
중간 테이블 상태값 / 재시도 파라미터 / 발송 금지시간 모델 등 **팀 간 인터페이스 이슈**를 정리한다.  
이후 **부하 테스트**로 파티션·컨슈머 수와 운영 설정을 확정한다.

---

## 3) 회의 주제 / Agenda
|  Time | Topic  | Note                                                          |
|------:|--------|---------------------------------------------------------------|
| 10:00 | 개발 진행도 | Producer–Consumer 통합, 중간 테이블 상태/정책 파라미터/금지시간 모델 정리, 부하 테스트 준비 |

---

## 4) 데일리 스크럼

### 4.1 진행 상황 공유
| 이름  | 진행 상황                                                          |
|-----|----------------------------------------------------------------|
| 이재  | 통합 이슈(상태 충돌/금지시간/재시도 파라미터) 쟁점 정리 및 방향성 제시, 일정 타이트함 공유          |
| 김도연 | Job2(템플릿/데이터 처리) Step2 개발 착수 예정, 카프카 팀과 인터페이스/정책 파라미터 계속 조율 필요 |
| 구본문 | 더미데이터/정책 데이터 관련 논의 참여, 중간 테이블 데이터 구성 요구사항 확인                   |
| 박준희 | Job2 관련 설계/구현 일정 압박 공유, 필요시 “설계대로” 진행 우선 주장                    |
| 김원기 | Producer/카프카 파이프라인 통합 준비, 부하 테스트로 파티션/컨슈머 수 확정 예정              |
| 최승언 | Consumer 쪽 에러 트러블슈팅 진행, 에러 해결 후 Producer와 통합 예정                |

### 4.2 계획 공유
| 이름  | 해야 할 일                                                             |
|-----|--------------------------------------------------------------------|
| 이재  | (1) 중간 테이블 상태 컬럼 분리안 확정 및 문서화 (2) 발송 금지 시간대 모델(From/To) 결론 도출 및 공유 |
| 김도연 | Job2 Step2 개발 진행 + 카프카팀과 “재시도 파라미터 계약” 정리(Attempt Count/Policy 관련) |
| 구본문 | 더미데이터/정책 데이터 구성 재정리, 중간 테이블에 들어갈 필드 확정 지원                          |
| 박준희 | Job2 구현 우선순위 재정리(타이트 일정 대응), 통합 테스트 준비 체크리스트 작성                    |
| 김원기 | 부하 테스트 시나리오 작성(파티션 수/컨슈머 수/처리량 목표), 테스트 결과로 설정값 확정                 |
| 최승언 | Consumer 에러 해결 → Producer 통합 → 부하 테스트 준비 단계로 넘기기                   |

---

## 5) 회의 내용(Notes)

### 5.1 통합 우선순위 정렬
- Consumer는 최소 1개 상시로 띄우면 수신 자체는 문제 없음(켜진 인스턴스가 수신).
- 다만 스케일/파티션은 **부하 테스트로 확정**한다.
- 현재 우선순위:
  - **Consumer 에러 해결 → Producer 통합 → 부하 테스트로 파티션/컨슈머 수/내부 설정 확정**

---

### 5.2 중간 테이블 상태 충돌 이슈
- 배치/카프카가 공유하는 **중간 테이블 상태값 업데이트가 겹친다**는 문제가 확인됨.
- 빠른 진행을 위해
  - 상태 컬럼을 분리(배치용 상태 / 카프카용 상태)하자는 방향이 나옴.

---

### 5.3 발송 금지 시간대 모델 논쟁 (To-only vs From/To)
- “To만으로 가능” vs “From/To 둘 다 필요” 논쟁이 존재.
- 인덱스/조회 조건까지 고려하면 From/To 포함 시 비용이 커질 수 있어
  - 데이터 모델 결론이 필요.

---

### 5.4 중복 발송 방지: 상태 업데이트 필요 vs DB 부담(락/IO)
- 중복 발송 방지를 위해 **메시지별 상태 업데이트가 필요**하다는 의견이 강함.
- 다만 병렬 처리 + 대량 업데이트에서 락 경합/DB 부담 우려가 있어
  - **청크/벌크 업데이트(JDBC 등)**로 최적화 방향이 언급됨.

---

### 5.5 재시도 파라미터 혼선: Attempt Count vs Policy ID/Version
- 재시도 관련해서
  - **Attempt Count(0→1→2…)**
  - 정책 식별자(Policy ID/Version)
  개념이 혼재되어 커뮤니케이션 혼선 발생.
- 전제 확인:
  - **배치는 정책을 조회하지 않고, 전달받은 파라미터로만 판단**한다.
- 따라서 팀 간 **이벤트 스키마(계약) 문서화가 필수**.

---

## 6) 조치 항목(Action Items)
- [ ] Consumer 에러 해결 및 Producer 통합 완료
- [ ] 부하 테스트 실행 → 파티션 수/컨슈머 수/설정값 확정
- [ ] 중간 테이블 상태 컬럼 분리안 적용(임시) + 상태 전이 정의
- [ ] 발송 금지 시간대 From/To 데이터 모델 결론
- [ ] 중복 방지 업데이트 방식 결정(개별 vs 벌크/청크) + 락 경합 리스크 점검
